(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4029d631"],{"25f5":function(e,t,r){"use strict";var n=r("7604");r.d(t,"a",(function(){return n["a"]}))},"3a60":function(e,t,r){(function(t,r){e.exports=r()})(0,(function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,r){"use strict";function n(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var a=r(2),s=r(0),i=r.n(s);t.a=function(e,t){var s=t.value;if((Array.isArray(s)||"string"==typeof s)&&(s={mask:s,tokens:i.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var o=e.getElementsByTagName("input");if(1!==o.length)throw new Error("v-mask directive requires 1 input, found "+o.length);e=o[0]}e.oninput=function(t){if(t.isTrusted){var i=e.selectionEnd,o=e.value[i-1];for(e.value=r.i(a.a)(e.value,s.mask,!0,s.tokens);i<e.value.length&&e.value.charAt(i-1)!==o;)i++;e===document.activeElement&&(e.setSelectionRange(i,i),setTimeout((function(){e.setSelectionRange(i,i)}),0)),e.dispatchEvent(n("input"))}};var l=r.i(a.a)(e.value,s.mask,!0,s.tokens);l!==e.value&&(e.value=l,e.dispatchEvent(n("input")))}},function(e,t,r){"use strict";var n=r(6),a=r(5);t.a=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments[3];return Array.isArray(t)?r.i(a.a)(n.a,t,i)(e,t,s,i):r.i(n.a)(e,t,s,i)}},function(e,t,r){"use strict";function n(e){e.component(l.a.name,l.a),e.directive("mask",i.a)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),s=r.n(a),i=r(1),o=r(7),l=r.n(o);r.d(t,"TheMask",(function(){return l.a})),r.d(t,"mask",(function(){return i.a})),r.d(t,"tokens",(function(){return s.a})),r.d(t,"version",(function(){return u}));var u="0.11.1";t.default=n,"undefined"!=typeof window&&window.Vue&&window.Vue.use(n)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),a=r(0),s=r.n(a),i=r(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return s.a}}},directives:{mask:n.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=r.i(i.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,r){"use strict";function n(e,t,r){return t=t.sort((function(e,t){return e.length-t.length})),function(n,a){for(var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=0;i<t.length;){var o=t[i];i++;var l=t[i];if(!(l&&e(n,l,!0,r).length>o.length))return e(n,o,s,r)}return""}}t.a=n},function(e,t,r){"use strict";function n(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments[3];e=e||"",t=t||"";for(var a=0,s=0,i="";a<t.length&&s<e.length;){var o=t[a],l=n[o],u=e[s];l&&!l.escape?(l.pattern.test(u)&&(i+=l.transform?l.transform(u):u,a++),s++):(l&&l.escape&&(a++,o=t[a]),r&&(i+=o),u===o&&s++,a++)}for(var c="";a<t.length&&r;){o=t[a];if(n[o]){c="";break}c+=o,a++}return i+c}t.a=n},function(e,t,r){var n=r(8)(r(4),r(9),null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,r,n){var a,s=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(a=e,s=e.default);var o="function"==typeof s?s.options:s;if(t&&(o.render=t.render,o.staticRenderFns=t.staticRenderFns),r&&(o._scopeId=r),n){var l=o.computed||(o.computed={});Object.keys(n).forEach((function(e){var t=n[e];l[e]=function(){return t}}))}return{esModule:a,exports:s,options:o}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,r){e.exports=r(3)}])}))},"43b2":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return x}));var n=r("8336"),a=r("b0af"),s=r("4bd4"),i=r("adda"),o=function(){var e=this,t=e._self._c;return t("base-layout",{attrs:{"is-header-showed":!e.$vuetify.breakpoint.mobile,"white-background":e.$vuetify.breakpoint.mobile},scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"d-flex justify-space-between align-center full-width"},[t("div",{staticClass:"d-flex"},[t(n["a"],{staticClass:"px-0",attrs:{text:"",depressed:"",rounded:"",color:"transparent","min-width":"auto",height:"auto",to:{name:e.$constants.ROUTE_NAMES.DISPATCHERS}}},[t(i["a"],{staticClass:"mr-4",attrs:{alt:"Back","max-width":18,src:r("8234")}})],1),t("h1",{staticClass:"font-weight-bold primary-dark--text"},[e._v(" "+e._s(e.$route.meta.pageTitle)+" ")])],1)])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"content-page-wrapper d-flex flex-column flex-md-row flex-shrink-1 px-lg-6 py-lg-8 px-0 my-md-0 mx-lg-n2 mx-md-auto"},[t(a["a"],{staticClass:"user-card py-lg-5 py-md-12 pt-12 pb-7 mx-lg-2 mx-md-2 mx-5 px-lg-5 px-sm-12",attrs:{width:"100%",height:e.$vuetify.breakpoint.mobile?"100%":"fit-content",flat:e.$vuetify.breakpoint.mobile}},[t(s["a"],{ref:"form",class:[e.$vuetify.breakpoint.mobile?"d-flex flex-column justify-space-between":"","form-wrapper full-height"],attrs:{"lazy-validation":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[t("div",[t("base-field-input",{attrs:{label:"Name","is-required":!0,rules:e.form.fullNameRules},model:{value:e.form.values.name,callback:function(t){e.$set(e.form.values,"name",t)},expression:"form.values.name"}}),t("base-field-input",{attrs:{label:"Email","is-required":!0,rules:e.form.emailRules,error:Boolean(e.serverErrors&&e.serverErrors.email||e.serverError),"error-messages":e.serverErrors.email,"validate-on-blur":""},model:{value:e.form.values.email,callback:function(t){e.$set(e.form.values,"email","string"===typeof t?t.trim():t)},expression:"form.values.email"}}),t("base-field-input",{attrs:{mask:"+1 (###) ###-####",label:"Phone","is-required":!0,rules:e.form.phoneRules},model:{value:e.form.values.phone,callback:function(t){e.$set(e.form.values,"phone",t)},expression:"form.values.phone"}})],1),t(n["a"],{staticClass:"mt-2",class:{"font-weight-bold mobile-fixed-buttons mobile-fullsize-button":e.$vuetify.breakpoint.mobile},attrs:{width:e.$vuetify.breakpoint.mobile?"100%":100,height:e.$vuetify.breakpoint.mobile?50:35,depressed:"",color:"primary",disabled:!e.form.valid||e.dispatchers.loading,loading:e.dispatchers.loading},on:{click:e.onSubmit}},[e._v(" Invite ")])],1)],1)],1)]},proxy:!0}])})},l=[],u=(r("14d9"),r("1abb")),c=r("2f62"),f=r("6367"),d=r("25f5"),p=r("42e9"),m=r("87c3");const{mapActions:v,mapState:h}=Object(c["a"])("dispatchers");var b={name:"DispatcherInvite",components:{BaseLayout:f["a"],BaseFieldInput:d["a"]},watch:{"form.values":{deep:!0,handler(){this.serverError="",Object.keys(this.serverErrors).forEach(e=>{this.serverErrors[e]=""})}}},data:()=>({form:{valid:!1,values:{name:"",email:"",phone:""},fullNameRules:[Object(p["j"])("Full Name")],emailRules:[Object(p["j"])("Email"),p["e"]],phoneRules:[Object(p["j"])("Phone")]},serverError:"",serverErrors:{}}),computed:{...h(["dispatchers"])},methods:{onSubmit(){const e=this.$refs.form.validate();e&&this.inviteDispatcher({data:this.form.values}).then(()=>{this.$notificationSuccess("Dispatcher is invited"),this.$router.push({name:this.$constants.ROUTE_NAMES.DISPATCHERS}).catch(u["a"])}).catch(e=>{this.$notificationError("Dispatcher wasn't invited"),Array.isArray(e)?this.serverError=e:this.serverErrors=e})},...v({inviteDispatcher:m["a"].INVITE_DISPATCHER})}},k=b,y=r("2877"),g=Object(y["a"])(k,o,l,!1,null,null,null),x=g.exports},7604:function(e,t,r){"use strict";var n=r("8654"),a=function(){var e=this,t=e._self._c;return t("base-field-label-wrapper",{attrs:{text:e.label,"info-text":e.infoText,"label-for":e.id,"is-required":e.isRequired}},[e.mask?[t(n["a"],e._g(e._b({directives:[{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"}],staticClass:"body-2 font-weight-semi-bold",attrs:{id:e.id,"clear-icon":"mdi-close-circle",dense:"",outlined:""},scopedSlots:e._u([{key:"message",fn:function({message:e}){return[t("base-field-error",{attrs:{message:e}})]}}],null,!1,1823132289)},"v-text-field",e.$attrs,!1),e.$listeners),[e._t("append",null,{slot:"append"}),e._t("default"),e._t("append-outer",null,{slot:"append-outer"})],2)]:[t(n["a"],e._g(e._b({staticClass:"body-2 font-weight-semi-bold",attrs:{id:e.id,"clear-icon":"mdi-close-circle",dense:"",outlined:""},scopedSlots:e._u([{key:"message",fn:function({message:e}){return[t("base-field-error",{attrs:{message:e}})]}}])},"v-text-field",e.$attrs,!1),e.$listeners),[e._t("append",null,{slot:"append"}),e._t("default"),e._t("append-outer",null,{slot:"append-outer"})],2)]],2)},s=[],i=r("3a60"),o=r("3509"),l=r("6437"),u={name:"BaseFieldInput",inheritAttrs:!1,components:{BaseFieldLabelWrapper:o["a"],BaseFieldError:l["a"]},directives:{mask:i["mask"]},props:{label:{type:String,default:""},infoText:{type:String,default:""},isRequired:{type:Boolean,default:!1},mask:{type:[String,Array,Boolean],default:null}},computed:{id(){return this.label+Math.random()}}},c=u,f=r("2877"),d=Object(f["a"])(c,a,s,!1,null,null,null);t["a"]=d.exports}}]);
//# sourceMappingURL=chunk-4029d631.f07821d4.js.map