(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73bc6514"],{"25f5":function(e,t,s){"use strict";var r=s("7604");s.d(t,"a",(function(){return r["a"]}))},"3a60":function(e,t,s){(function(t,s){e.exports=s()})(0,(function(){return function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var s={};return t.m=e,t.c=s,t.i=function(e){return e},t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,s){"use strict";function r(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var n=s(2),a=s(0),o=s.n(a);t.a=function(e,t){var a=t.value;if((Array.isArray(a)||"string"==typeof a)&&(a={mask:a,tokens:o.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var i=e.getElementsByTagName("input");if(1!==i.length)throw new Error("v-mask directive requires 1 input, found "+i.length);e=i[0]}e.oninput=function(t){if(t.isTrusted){var o=e.selectionEnd,i=e.value[o-1];for(e.value=s.i(n.a)(e.value,a.mask,!0,a.tokens);o<e.value.length&&e.value.charAt(o-1)!==i;)o++;e===document.activeElement&&(e.setSelectionRange(o,o),setTimeout((function(){e.setSelectionRange(o,o)}),0)),e.dispatchEvent(r("input"))}};var u=s.i(n.a)(e.value,a.mask,!0,a.tokens);u!==e.value&&(e.value=u,e.dispatchEvent(r("input")))}},function(e,t,s){"use strict";var r=s(6),n=s(5);t.a=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments[3];return Array.isArray(t)?s.i(n.a)(r.a,t,o)(e,t,a,o):s.i(r.a)(e,t,a,o)}},function(e,t,s){"use strict";function r(e){e.component(u.a.name,u.a),e.directive("mask",o.a)}Object.defineProperty(t,"__esModule",{value:!0});var n=s(0),a=s.n(n),o=s(1),i=s(7),u=s.n(i);s.d(t,"TheMask",(function(){return u.a})),s.d(t,"mask",(function(){return o.a})),s.d(t,"tokens",(function(){return a.a})),s.d(t,"version",(function(){return l}));var l="0.11.1";t.default=r,"undefined"!=typeof window&&window.Vue&&window.Vue.use(r)},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),n=s(0),a=s.n(n),o=s(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return a.a}}},directives:{mask:r.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=s.i(o.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,s){"use strict";function r(e,t,s){return t=t.sort((function(e,t){return e.length-t.length})),function(r,n){for(var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=0;o<t.length;){var i=t[o];o++;var u=t[o];if(!(u&&e(r,u,!0,s).length>i.length))return e(r,i,a,s)}return""}}t.a=r},function(e,t,s){"use strict";function r(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments[3];e=e||"",t=t||"";for(var n=0,a=0,o="";n<t.length&&a<e.length;){var i=t[n],u=r[i],l=e[a];u&&!u.escape?(u.pattern.test(l)&&(o+=u.transform?u.transform(l):l,n++),a++):(u&&u.escape&&(n++,i=t[n]),s&&(o+=i),l===i&&a++,n++)}for(var d="";n<t.length&&s;){i=t[n];if(r[i]){d="";break}d+=i,n++}return o+d}t.a=r},function(e,t,s){var r=s(8)(s(4),s(9),null,null);e.exports=r.exports},function(e,t){e.exports=function(e,t,s,r){var n,a=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(n=e,a=e.default);var i="function"==typeof a?a.options:a;if(t&&(i.render=t.render,i.staticRenderFns=t.staticRenderFns),s&&(i._scopeId=s),r){var u=i.computed||(i.computed={});Object.keys(r).forEach((function(e){var t=r[e];u[e]=function(){return t}}))}return{esModule:n,exports:a,options:i}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,s){e.exports=s(3)}])}))},7604:function(e,t,s){"use strict";var r=s("8654"),n=function(){var e=this,t=e._self._c;return t("base-field-label-wrapper",{attrs:{text:e.label,"info-text":e.infoText,"label-for":e.id,"is-required":e.isRequired}},[e.mask?[t(r["a"],e._g(e._b({directives:[{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"}],staticClass:"body-2 font-weight-semi-bold",attrs:{id:e.id,"clear-icon":"mdi-close-circle",dense:"",outlined:""},scopedSlots:e._u([{key:"message",fn:function({message:e}){return[t("base-field-error",{attrs:{message:e}})]}}],null,!1,1823132289)},"v-text-field",e.$attrs,!1),e.$listeners),[e._t("append",null,{slot:"append"}),e._t("default"),e._t("append-outer",null,{slot:"append-outer"})],2)]:[t(r["a"],e._g(e._b({staticClass:"body-2 font-weight-semi-bold",attrs:{id:e.id,"clear-icon":"mdi-close-circle",dense:"",outlined:""},scopedSlots:e._u([{key:"message",fn:function({message:e}){return[t("base-field-error",{attrs:{message:e}})]}}])},"v-text-field",e.$attrs,!1),e.$listeners),[e._t("append",null,{slot:"append"}),e._t("default"),e._t("append-outer",null,{slot:"append-outer"})],2)]],2)},a=[],o=s("3a60"),i=s("3509"),u=s("6437"),l={name:"BaseFieldInput",inheritAttrs:!1,components:{BaseFieldLabelWrapper:i["a"],BaseFieldError:u["a"]},directives:{mask:o["mask"]},props:{label:{type:String,default:""},infoText:{type:String,default:""},isRequired:{type:Boolean,default:!1},mask:{type:[String,Array,Boolean],default:null}},computed:{id(){return this.label+Math.random()}}},d=l,c=s("2877"),p=Object(c["a"])(d,n,a,!1,null,null,null);t["a"]=p.exports},"83c2":function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return b}));var r=s("8336"),n=s("b0af"),a=s("4bd4"),o=function(){var e=this,t=e._self._c;return t("base-layout",{attrs:{"is-header-showed":!e.$vuetify.breakpoint.mobile},scopedSlots:e._u([{key:"header",fn:function(){return[t("h1",{staticClass:"font-weight-bold primary-dark--text"},[e._v(" "+e._s(e.$route.meta.pageTitle)+" ")])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"content-page-wrapper d-flex flex-column flex-md-row flex-shrink-1 px-lg-6 py-lg-8 px-0 py-0 my-md-0 mx-lg-n2 mx-md-auto"},[t(n["a"],{staticClass:"py-lg-5 py-md-12 px-5 pt-5 pb-7 mx-lg-2 mx-md-2 mx-0 px-lg-5 px-2 flex-grow-1",attrs:{width:e.$vuetify.breakpoint.smAndDown?"auto":"100%",height:e.$vuetify.breakpoint.mobile?"100%":"fit-content"}},[t("div",{staticClass:"form-wrapper"},[t(a["a"],{ref:"form",staticClass:"form",attrs:{"lazy-validation":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[t("base-field-input",{attrs:{label:"Current password","is-required":!0,autocomplete:"current-password",rules:[e.required("Current password")],type:e.isPasswordVisible?"text":"password","append-icon":e.isPasswordVisible?"mdi-eye":"mdi-eye-off","error-messages":e.form.serverError},on:{"click:append":function(t){e.isPasswordVisible=!e.isPasswordVisible}},model:{value:e.form.values.password,callback:function(t){e.$set(e.form.values,"password",t)},expression:"form.values.password"}}),t("base-field-input",{attrs:{label:"New password","is-required":!0,autocomplete:"new-password",rules:[e.required("New password")],type:e.isNewPasswordVisible?"text":"password","append-icon":e.isNewPasswordVisible?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.isNewPasswordVisible=!e.isNewPasswordVisible},input:e.handleNewPasswordInput},model:{value:e.form.values.new_password,callback:function(t){e.$set(e.form.values,"new_password",t)},expression:"form.values.new_password"}}),t("base-field-input",{attrs:{label:"Confirm new password","is-required":!0,autocomplete:"confirm-new-password",rules:[e.required("Confirm new password"),e.sameAsNewPassword],type:e.isConfirmNewPasswordVisible?"text":"password","append-icon":e.isConfirmNewPasswordVisible?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(t){e.isConfirmNewPasswordVisible=!e.isConfirmNewPasswordVisible}},model:{value:e.form.values.confirm_new_password,callback:function(t){e.$set(e.form.values,"confirm_new_password",t)},expression:"form.values.confirm_new_password"}})],1),t(r["a"],{staticClass:"mt-2",attrs:{height:e.$vuetify.breakpoint.mobile?50:35,disabled:!e.form.valid,depressed:"",color:"primary"},on:{click:e.handleSubmit}},[e._v(" Change Password ")])],1)])],1)]},proxy:!0}])})},i=[],u=(s("14d9"),s("2f62")),l=s("04d4"),d=s("25f5"),c=s("6367"),p=s("42e9");const{mapActions:f}=Object(u["a"])("profile");var m={name:"ChangePassword",components:{BaseFieldInput:d["a"],BaseLayout:c["a"]},watch:{"form.values":{deep:!0,handler(){this.form.serverError=""}}},data(){return{form:{valid:!0,values:{confirm_new_password:"",new_password:"",password:""},serverError:""},isConfirmNewPasswordVisible:!1,isNewPasswordVisible:!1,isPasswordVisible:!1}},computed:{sameAsNewPassword(){return this.same("Passwords",this.form.values.new_password)},...Object(u["c"])(["userRole"])},methods:{required:p["j"],same:p["k"],handleSubmit(){const e=this.$refs.form.validate();if(!e)return;const{confirm_new_password:t,new_password:s,password:r}=this.form.values;this.changePassword({confirm_new_password:t,new_password:s,password:r,role:this.userRole}).then(()=>{this.$notificationSuccess("Your password was changed"),this.userRole===this.$constants.ROLES.CARRIER?this.$router.push({name:this.$constants.ROUTE_NAMES.PROFILE}):this.$router.push({name:this.$constants.ROUTE_NAMES.DISPATCHER_PROFILE_INFO})}).catch(e=>{this.form.serverError=e})},handleNewPasswordInput(){setTimeout(()=>{this.$refs.form.inputs[2].validate()})},...f({changePassword:l["a"].UPDATE_PASSWORD})}},w=m,v=s("2877"),h=Object(v["a"])(w,o,i,!1,null,null,null),b=h.exports}}]);
//# sourceMappingURL=chunk-73bc6514.f1960e72.js.map