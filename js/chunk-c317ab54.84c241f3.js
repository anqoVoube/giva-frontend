(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c317ab54"],{"25f5":function(e,t,r){"use strict";var a=r("7604");r.d(t,"a",(function(){return a["a"]}))},"3a60":function(e,t,r){(function(t,r){e.exports=r()})(0,(function(){return function(e){function t(a){if(r[a])return r[a].exports;var i=r[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,r){"use strict";function a(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var i=r(2),s=r(0),n=r.n(s);t.a=function(e,t){var s=t.value;if((Array.isArray(s)||"string"==typeof s)&&(s={mask:s,tokens:n.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var l=e.getElementsByTagName("input");if(1!==l.length)throw new Error("v-mask directive requires 1 input, found "+l.length);e=l[0]}e.oninput=function(t){if(t.isTrusted){var n=e.selectionEnd,l=e.value[n-1];for(e.value=r.i(i.a)(e.value,s.mask,!0,s.tokens);n<e.value.length&&e.value.charAt(n-1)!==l;)n++;e===document.activeElement&&(e.setSelectionRange(n,n),setTimeout((function(){e.setSelectionRange(n,n)}),0)),e.dispatchEvent(a("input"))}};var o=r.i(i.a)(e.value,s.mask,!0,s.tokens);o!==e.value&&(e.value=o,e.dispatchEvent(a("input")))}},function(e,t,r){"use strict";var a=r(6),i=r(5);t.a=function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments[3];return Array.isArray(t)?r.i(i.a)(a.a,t,n)(e,t,s,n):r.i(a.a)(e,t,s,n)}},function(e,t,r){"use strict";function a(e){e.component(o.a.name,o.a),e.directive("mask",n.a)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),s=r.n(i),n=r(1),l=r(7),o=r.n(l);r.d(t,"TheMask",(function(){return o.a})),r.d(t,"mask",(function(){return n.a})),r.d(t,"tokens",(function(){return s.a})),r.d(t,"version",(function(){return u}));var u="0.11.1";t.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),i=r(0),s=r.n(i),n=r(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return s.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=r.i(n.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,r){"use strict";function a(e,t,r){return t=t.sort((function(e,t){return e.length-t.length})),function(a,i){for(var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;n<t.length;){var l=t[n];n++;var o=t[n];if(!(o&&e(a,o,!0,r).length>l.length))return e(a,l,s,r)}return""}}t.a=a},function(e,t,r){"use strict";function a(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];e=e||"",t=t||"";for(var i=0,s=0,n="";i<t.length&&s<e.length;){var l=t[i],o=a[l],u=e[s];o&&!o.escape?(o.pattern.test(u)&&(n+=o.transform?o.transform(u):u,i++),s++):(o&&o.escape&&(i++,l=t[i]),r&&(n+=l),u===l&&s++,i++)}for(var c="";i<t.length&&r;){l=t[i];if(a[l]){c="";break}c+=l,i++}return n+c}t.a=a},function(e,t,r){var a=r(8)(r(4),r(9),null,null);e.exports=a.exports},function(e,t){e.exports=function(e,t,r,a){var i,s=e=e||{},n=typeof e.default;"object"!==n&&"function"!==n||(i=e,s=e.default);var l="function"==typeof s?s.options:s;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),r&&(l._scopeId=r),a){var o=l.computed||(l.computed={});Object.keys(a).forEach((function(e){var t=a[e];o[e]=function(){return t}}))}return{esModule:i,exports:s,options:l}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,r){e.exports=r(3)}])}))},"615b":function(e,t,r){},"6dcc":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r("b974"),i=function(){var e=this,t=e._self._c;return t("base-field-label-wrapper",{attrs:{text:e.label,"info-text":e.infoText,"label-for":e.label}},[t(a["a"],e._g(e._b({staticClass:"body-2 font-weight-semi-bold",attrs:{id:e.label,dense:"",outlined:"","menu-props":{offsetY:!0}},scopedSlots:e._u([{key:"message",fn:function({message:e}){return[t("base-field-error",{attrs:{message:e}})]}}])},"v-select",e.$attrs,!1),e.$listeners))],1)},s=[],n=r("3509"),l=r("6437"),o={name:"BaseFieldSelect",inheritAttrs:!1,components:{BaseFieldLabelWrapper:n["a"],BaseFieldError:l["a"]},props:{label:{type:String,default:""},infoText:{type:String,default:""}}},u=o,c=r("2877"),d=Object(c["a"])(u,i,s,!1,null,null,null),f=d.exports},7604:function(e,t,r){"use strict";var a=r("8654"),i=function(){var e=this,t=e._self._c;return t("base-field-label-wrapper",{attrs:{text:e.label,"info-text":e.infoText,"label-for":e.id,"is-required":e.isRequired}},[e.mask?[t(a["a"],e._g(e._b({directives:[{name:"mask",rawName:"v-mask",value:e.mask,expression:"mask"}],staticClass:"body-2 font-weight-semi-bold",attrs:{id:e.id,"clear-icon":"mdi-close-circle",dense:"",outlined:""},scopedSlots:e._u([{key:"message",fn:function({message:e}){return[t("base-field-error",{attrs:{message:e}})]}}],null,!1,1823132289)},"v-text-field",e.$attrs,!1),e.$listeners),[e._t("append",null,{slot:"append"}),e._t("default"),e._t("append-outer",null,{slot:"append-outer"})],2)]:[t(a["a"],e._g(e._b({staticClass:"body-2 font-weight-semi-bold",attrs:{id:e.id,"clear-icon":"mdi-close-circle",dense:"",outlined:""},scopedSlots:e._u([{key:"message",fn:function({message:e}){return[t("base-field-error",{attrs:{message:e}})]}}])},"v-text-field",e.$attrs,!1),e.$listeners),[e._t("append",null,{slot:"append"}),e._t("default"),e._t("append-outer",null,{slot:"append-outer"})],2)]],2)},s=[],n=r("3a60"),l=r("3509"),o=r("6437"),u={name:"BaseFieldInput",inheritAttrs:!1,components:{BaseFieldLabelWrapper:l["a"],BaseFieldError:o["a"]},directives:{mask:n["mask"]},props:{label:{type:String,default:""},infoText:{type:String,default:""},isRequired:{type:Boolean,default:!1},mask:{type:[String,Array,Boolean],default:null}},computed:{id(){return this.label+Math.random()}}},c=u,d=r("2877"),f=Object(d["a"])(c,i,s,!1,null,null,null);t["a"]=f.exports},b0af:function(e,t,r){"use strict";r("615b");var a=r("10d2"),i=r("297c"),s=r("1c87"),n=r("58df");t["a"]=Object(n["a"])(i["a"],s["a"],a["a"]).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...s["a"].options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...a["a"].options.computed.classes.call(this)}},styles(){const e={...a["a"].options.computed.styles.call(this)};return this.img&&(e.background=`url("${this.img}") center center / cover no-repeat`),e}},methods:{genProgress(){const e=i["a"].options.methods.genProgress.call(this);return e?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[e]):null}},render(e){const{tag:t,data:r}=this.generateRouteLink();return r.style=this.styles,this.isClickable&&(r.attrs=r.attrs||{},r.attrs.tabindex=0),e(t,this.setBackgroundColor(this.color,r),[this.genProgress(),this.$slots.default])}})},e2c5:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return x}));var a=r("8336"),i=r("b0af"),s=r("4bd4"),n=function(){var e=this,t=e._self._c;return e.activeDriver?t(i["a"],{staticClass:"user-card py-lg-5 py-md-12 pt-12 pb-7 mx-lg-2 mx-md-2 mx-5 px-lg-5 px-sm-12",attrs:{width:"100%",height:"fit-content",flat:e.$vuetify.breakpoint.mobile}},[t("div",{staticClass:"form-wrapper"},[t(s["a"],{ref:"form",attrs:{"lazy-validation":""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.form.valid,callback:function(t){e.$set(e.form,"valid",t)},expression:"form.valid"}},[t("base-field-input",{attrs:{label:"Full Name","is-required":!0,rules:e.form.fullNameRules},model:{value:e.form.values.full_name,callback:function(t){e.$set(e.form.values,"full_name",t)},expression:"form.values.full_name"}}),t("base-field-input",{attrs:{label:"Email","is-required":!0,rules:e.form.emailRules,error:Boolean(e.serverErrors&&e.serverErrors.email||e.serverError),"error-messages":e.serverErrors.email},model:{value:e.form.values.email,callback:function(t){e.$set(e.form.values,"email",t)},expression:"form.values.email"}}),t("base-field-input",{attrs:{mask:"+1 (###) ###-####",label:"Phone","is-required":!0,rules:e.form.phoneRules},model:{value:e.form.values.phone,callback:function(t){e.$set(e.form.values,"phone",t)},expression:"form.values.phone"}}),t("base-field-input",{attrs:{label:"Trailer Capacity","is-required":!0,rules:e.form.trailerCapacityRules},model:{value:e.form.values.trailer_capacity,callback:function(t){e.$set(e.form.values,"trailer_capacity",t)},expression:"form.values.trailer_capacity"}}),t("base-field-input",{attrs:{label:"Trailer Length","is-required":!0,rules:e.form.trailerLengthRules},model:{value:e.form.values.trailer_length,callback:function(t){e.$set(e.form.values,"trailer_length",t)},expression:"form.values.trailer_length"}}),t("base-field-input",{attrs:{label:"Driverâ€™s License Number"},model:{value:e.form.values.license_number,callback:function(t){e.$set(e.form.values,"license_number",t)},expression:"form.values.license_number"}}),t("base-field-select",{attrs:{items:e.states.data,label:"Issuing State/Province","item-value":"id","item-text":"name",rules:e.form.issuingStateRules,error:Boolean(e.serverErrors&&e.serverErrors.issuing_state||e.serverError),"error-messages":e.serverErrors.issuing_state},model:{value:e.form.values.issuing_state,callback:function(t){e.$set(e.form.values,"issuing_state",t)},expression:"form.values.issuing_state"}}),t(a["a"],{staticClass:"mt-2",class:{"font-weight-bold":e.$vuetify.breakpoint.mobile},attrs:{width:e.$vuetify.breakpoint.mobile?"100%":100,height:e.$vuetify.breakpoint.mobile?50:35,depressed:"",disabled:!e.form.valid||!e.form.edited,color:"primary"},on:{click:e.onSubmit}},[e._v(" Save ")])],1)],1)]):e._e()},l=[],o=(r("14d9"),r("6dcc")),u=r("25f5"),c=r("42e9"),d=r("2f62"),f=r("d63e"),v=r("a03f");const{mapGetters:m,mapActions:p,mapMutations:h}=Object(d["a"])("drivers"),{mapActions:b,mapState:g}=Object(d["a"])("dictionaries");var y={name:"DriverEdit",watch:{"form.values":{deep:!0,handler(){this.form.edited=!!this.getShallowDifferenceKeys(this.form.values,this.form.initialValues).length,this.serverError="",Object.keys(this.serverErrors).forEach(e=>{this.serverErrors[e]=""})}}},components:{BaseFieldSelect:o["a"],BaseFieldInput:u["a"]},data:()=>({form:{edited:!1,valid:!1,initialValues:null,values:{},fullNameRules:[Object(c["j"])("Full Name")],emailRules:[Object(c["j"])("Email")],phoneRules:[Object(c["j"])("Email")],trailerCapacityRules:[Object(c["j"])("Trailer Capacity"),Object(c["d"])("Trailer Capacity")],trailerLengthRules:[Object(c["j"])("Trailer Length"),Object(c["d"])("Trailer Length")],issuingStateRules:[Object(c["d"])("Issuing State")]},serverErrors:{},serverError:""}),computed:{...m({activeDriver:f["b"].ACTIVE_DRIVER}),...g(["states"])},methods:{onSubmit(){const e=this.$refs.form.validate();if(!e)return void this.$notificationError("Form not valid");const t={};this.getShallowDifferenceKeys(this.form.values,this.form.initialValues).forEach(e=>{t[e]=this.form.values[e]}),this.editDriver({id:this.activeDriver.id,data:t}).then(()=>{this.form.edited=!1,this.form.initialValues={...this.form.values},this.getDrivers(),this.$router.push({name:this.$constants.ROUTE_NAMES.DRIVERS}),this.$notificationSuccess("Driver was updated")}).catch(e=>{Array.isArray(e)?this.serverError=e:this.serverErrors=e,this.$notificationError("Driver's information wasn't updated")})},getShallowDifferenceKeys(e,t){return Object.keys(e).filter(r=>t[r]!==e[r])},...p({editDriver:f["a"].EDIT_DRIVER,getDrivers:f["a"].GET_DRIVERS}),...h({updateActiveDriverId:f["c"].UPDATE_ACTIVE_DRIVER_ID}),...b({getStates:v["a"].GET_STATES})},mounted(){this.updateActiveDriverId(this.$route.params.id),this.getStates(),this.activeDriver&&(this.form.values={full_name:this.activeDriver.full_name&&this.activeDriver.full_name,email:this.activeDriver.email&&this.activeDriver.email,phone:this.activeDriver.phone&&this.activeDriver.phone.startsWith("+1")?this.activeDriver.phone.slice(2):this.activeDriver.phone,trailer_capacity:this.activeDriver.trailer_capacity&&String(this.activeDriver.trailer_capacity),trailer_length:this.activeDriver.trailer_length&&String(this.activeDriver.trailer_length),license_number:this.activeDriver.license_number&&String(this.activeDriver.license_number),issuing_state:this.activeDriver.issuing_state&&this.activeDriver.issuing_state},this.form.initialValues={...this.form.values})}},_=y,k=r("2877"),E=Object(k["a"])(_,n,l,!1,null,null,null),x=E.exports}}]);
//# sourceMappingURL=chunk-c317ab54.84c241f3.js.map